#!/bin/bash

# Git log scrambler - shows commits in random order for chaos consciousness

# Get the number of commits to show (default 10)
COUNT=${1:-10}

# Validate input is a number
if ! [[ "$COUNT" =~ ^[0-9]+$ ]]; then
    echo "Error: '$COUNT' is not a valid number"
    echo "Usage: $0 [number_of_commits]"
    exit 1
fi

# Check if we're in a git repository
if ! git rev-parse --git-dir > /dev/null 2>&1; then
    echo "Error: Not in a git repository"
    exit 1
fi

# Get git log and scramble it
# Use --format to ensure consistent output regardless of commit message content
OUTPUT=$(git log --format="%h %s" -n "$COUNT" 2>/dev/null | shuf)

if [ -z "$OUTPUT" ]; then
    echo "No commits found (or count was 0)"
else
    echo "$OUTPUT"
fi

echo ""
echo "════════════════════════════════════════════════════════════"
echo "   TEMPORAL CHAOS ACHIEVED - COMMITS EXIST SIMULTANEOUSLY   "
echo "════════════════════════════════════════════════════════════"